<script id="category-settings" type="application/json"> 
  { 
    "delimiter": "__", 
    "initialState": "close" 
  } 
</script> <script>"use strict";document.addEventListener("DOMContentLoaded",function(){var e=function(e,t){var l=document.createElement("a");return l.setAttribute("href",e),l.textContent=t,l},t=function(e,t){var l=document.querySelectorAll(t);l.length&&l.forEach(function(t){t.textContent=t.textContent.split(e.delimiter).pop()})},l=function(){var e=document.getElementById("category-settings");return e?JSON.parse(e.text):{delimiter:"__",initialState:"close"}}();(function(t){var l=document.querySelector("div.hatena-module-category > div.hatena-module-body");if(l){var r=l.querySelectorAll("ul > li > a");if(r.length){var a=l.querySelector("ul.hatena-urllist");if(a){a.parentNode.removeChild(a);var n=document.createElement("ul");n.className="hatena-urllist",l.appendChild(n),r.forEach(function(l){var r=l.getAttribute("href"),a=l.textContent.trim().split(t.delimiter),c=null;a.forEach(function(t,l){var o=t.replace(/\s+/g,"").replace(/\(\d+\)/g,""),i="category-".concat(o),d="category-level-".concat(l),u=l+1===a.length,s=n.querySelector(".".concat(d,".").concat(i));if(s){if(u){var h=s.querySelector("ul");s.textContent="",s.appendChild(e(r,t)),s.appendChild(h)}c=s}else{var g=document.createElement("li");if(g.classList.add(d,i),u?g.appendChild(e(r,t)):g.textContent=t,0===l)n.appendChild(g);else{var f=c.querySelector("ul");if(f)f.appendChild(g);else{var m=document.createElement("ul");m.appendChild(g),c.appendChild(m)}}c=g}})}),n.querySelectorAll("li").forEach(function(e,l){if(e.querySelector("ul")){var r=document.createElement("label");r.setAttribute("for","category-toggle-checkbox-".concat(l)),r.classList.add("category-toggle-checkbox-label","category-li-label"),e.insertBefore(r,e.firstElementChild);var a=document.createElement("input");a.setAttribute("type","checkbox"),a.setAttribute("id","category-toggle-checkbox-".concat(l)),"open"===t.initialState&&(a.checked=!0),a.classList.add("category-toggle-checkbox"),e.insertBefore(a,e.firstElementChild)}else{var n=document.createElement("label");n.classList.add("category-not-to-toggle","category-li-label"),e.insertBefore(n,e.firstElementChild)}})}}}})(l),t(l,"a.entry-category-link"),t(l,"a.archive-category-link")});</script> 
