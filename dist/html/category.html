<div style="display:none" id="category-settings" data-delimiter="__" data-initial-state="close"></div> <script>"use strict";document.addEventListener("DOMContentLoaded",function(){var e=function(e,t){var l=document.createElement("a");return l.setAttribute("href",e),l.textContent=t,l},t=function(){var e=document.getElementById("category-settings"),t={};return e?(t.delimiter=e.dataset.delimiter,t.initialState=e.dataset.initialState):(t.delimiter="__",t.initialState="close"),t}();(function(t){var l=document.querySelector("div.hatena-module-category > div.hatena-module-body");if(l){var a=l.querySelectorAll("ul > li > a");if(a.length){var r=l.querySelector("ul.hatena-urllist");if(r){r.parentNode.removeChild(r);var n=document.createElement("ul");n.className="hatena-urllist",l.appendChild(n),a.forEach(function(l){var a=l.getAttribute("href"),r=l.textContent.trim().split(t.delimiter),c=null;r.forEach(function(t,l){var i=t.replace(/\s+/g,"").replace(/\(\d+\)/g,""),o="category-".concat(i),d="category-level-".concat(l),u=l+1===r.length,s=n.querySelector(".".concat(d,".").concat(o));if(s){if(u){var h=s.querySelector("ul");s.textContent="",s.appendChild(e(a,t)),s.appendChild(h)}c=s}else{var m=document.createElement("li");if(m.classList.add(d,o),u?m.appendChild(e(a,t)):m.textContent=t,0===l)n.appendChild(m);else{var f=c.querySelector("ul");if(f)f.appendChild(m);else{var g=document.createElement("ul");g.appendChild(m),c.appendChild(g)}}c=m}})}),n.querySelectorAll("li").forEach(function(e,l){if(e.querySelector("ul")){var a=document.createElement("label");a.setAttribute("for","category-toggle-checkbox-".concat(l)),a.classList.add("category-toggle-checkbox-label","category-li-label"),e.insertBefore(a,e.firstElementChild);var r=document.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("id","category-toggle-checkbox-".concat(l)),"open"===t.initialState&&(r.checked=!0),r.classList.add("category-toggle-checkbox"),e.insertBefore(r,e.firstElementChild)}else{var n=document.createElement("label");n.classList.add("category-not-to-toggle","category-li-label"),e.insertBefore(n,e.firstElementChild)}})}}}})(t),function(e){var t=document.querySelectorAll("header.entry-header a.entry-category-link");t.length&&t.forEach(function(t){t.textContent=t.textContent.split(e.delimiter).pop()})}(t)});</script> 
